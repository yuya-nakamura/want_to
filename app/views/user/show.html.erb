<script>
$(function() {
    <% if current_user.following?(@user) %>
    $('#btnFollow').addClass('btn-info');
    <% end %>

    $(document).on('click', '#btnFollow', function(e) {
        e.preventDefault();
        if($(this).hasClass('btn-info')) {
            $('#follow').attr('action', '/user/remove');
            $('#follow').submit();
        } else {
            $('#follow').attr('action', '/user/follow');
            $('#follow').submit();
        }
    });
});
</script>
<h1>User#show</h1>
<p>Find me in app/views/user/show.html.erb</p>

<h2>ユーザー情報</h2>
メールアドレス: <%= @user.email %>
<h2>ふせん</h2>
<%= form_tag({:controller => 'user', :action => 'follow'}, :remote => true, :class => 'form-ajax', :id => 'follow') do %>
<%= hidden_field_tag :user, @user.id %>
<%= link_to 'follow', '#', :class => 'btn btn--s btn-no-padding', :id => 'btnFollow' %>
<% end %>
<div id="bookmark">
	<%= render partial: 'user/bookmark', locals: { bookmarks: @user.bookmarks } %>
</div>
